{% extends 'master.html' %}

{% block title %}Beat Library{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{url_for('static', filename='styles/beatlibrary.css')}}"/>
<audio id="audio" src="{{videos[0].audio_url}}"></audio> <!-- Defaults to first beat -->
{% endblock %}

{% block body %}
<h1>Beat Library</h1>
<p>Browse my collection of beats.</p>

<div class="audio-player">
    <input
      class="seek"
      type="range"
      min="0"
      max="100"
      value="0"
      step="0.0001"
    />
    <i class="play fa-solid fa-play fa-xl"></i>
</div>

<div id="beat-library">
    {% for video in videos %}
    <div class="beat grid-container">
        <img class="grid-item" src="{{video.video_thumbnail}}" alt="thumbnail" height="100%">
        <div class="grid-item">
            <h4>{{video.video_beat_name}}</h4>
            <p>135 BPM | No Uncleared Samples | Upbeat</p>
        </div>
        <div>
            <form class="grid-item" action="{{url_for('beat', video_id=video.video_id)}}">
                <button type="submit"><i class="fa-solid fa-cart-shopping"></i><p>Buy</p></button>
            </form>
            <button id="play-button-{{video.video_id}}" class="play-button" value="{{video.audio_url}}"><i class="fa-solid fa-play"></i>Play</button>
        </div>
    </div>
    {% endfor %}
</div>

<script src="{{url_for('static', filename='js/beat_library.js')}}"></script>


{% endblock %}